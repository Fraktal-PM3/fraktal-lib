{
    "namespace": "default",
    "name": "pm3roleauth",
    "description": "FFI for RoleAuthContract that manages role-based permissions (pm3, ombud, transporter).",
    "version": "1.0.0",
    "methods": [
        {
            "name": "getPermissions",
            "pathname": "",
            "description": "Get explicit permissions for an identity. If identityIdentifier is omitted, uses the caller identity.",
            "params": [
                {
                    "name": "identityIdentifier",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "returns": [
                {
                    "name": "",
                    "schema": {
                        "type": "string"
                    }
                }
            ]
        },
        {
            "name": "setPermissions",
            "pathname": "",
            "description": "Set explicit permissions for a target identity. Only callers from the PM3 MSP may update permissions.",
            "params": [
                {
                    "name": "targetIdentityIdentifier",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "name": "permissionsJson",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "returns": []
        },
        {
            "name": "grantPermissionsToOrg",
            "pathname": "",
            "description": "Grant specific permissions to a target organization. Only PM3 may call this function.",
            "params": [
                {
                    "name": "targetMSP",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "name": "permissionsJson",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "returns": []
        },
        {
            "name": "revokePermissionsFromOrg",
            "pathname": "",
            "description": "Revoke all permissions from a target organization. Only PM3 may call this function.",
            "params": [
                {
                    "name": "targetMSP",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "returns": []
        },
        {
            "name": "removePermissionsFromOrg",
            "pathname": "",
            "description": "Remove specific permissions from a target organization. Only PM3 may call this function.",
            "params": [
                {
                    "name": "targetMSP",
                    "schema": {
                        "type": "string"
                    }
                },
                {
                    "name": "permissionsJson",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "returns": []
        },
        {
            "name": "getCallerIdentifier",
            "pathname": "",
            "description": "Get the caller's identity identifier in format 'MSPID'.",
            "params": [],
            "returns": [
                {
                    "name": "",
                    "schema": {
                        "type": "string"
                    }
                }
            ]
        },
        {
            "name": "getCallerPermissions",
            "pathname": "",
            "description": "Fetch the caller's permissions from the blockchain. Returns an array of Permission strings that the caller has been granted.",
            "params": [],
            "returns": [
                {
                    "name": "",
                    "schema": {
                        "type": "array"
                    }
                }
            ]
        },
        {
            "name": "callerHasPermission",
            "pathname": "",
            "description": "Check whether the caller has the supplied permission, based on stored permissions.",
            "params": [
                {
                    "name": "permission",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "returns": [
                {
                    "name": "",
                    "schema": {
                        "type": "boolean"
                    }
                }
            ]
        }
    ],
    "events": []
}
